(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[976],{1976:(t,n,e)=>{"use strict";e.r(n),e.d(n,{ClientMap:()=>p});var a=e(5155),r=e(2115),o=e(8741),c=e.n(o);e(8413);var s=e(7957),i=e.n(s);let p=t=>{let{locations:n,isDarkMode:e}=t,o=(0,r.useRef)(null),[s,p]=(0,r.useState)([20,0]);return(0,r.useEffect)(()=>{n.length>0&&p([n[0].lat,n[0].lon])},[n]),(0,r.useEffect)(()=>(o.current?(o.current.eachLayer(t=>{t instanceof c().TileLayer&&t.remove()}),c().tileLayer(e?"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png":"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",{attribution:"OpenStreetMap, CartoDB"}).addTo(o.current),o.current.setView(s,window.innerWidth<768?1:2)):(o.current=c().map("map",{center:s,zoom:2,minZoom:window.innerWidth<768?1:2,maxZoom:5,zoomControl:!1,attributionControl:!1}),c().tileLayer(e?"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png":"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",{attribution:"OpenStreetMap, CartoDB"}).addTo(o.current),c().control.attribution({position:"bottomright"}).addTo(o.current)),o.current&&o.current.eachLayer(t=>{t instanceof c().CircleMarker&&t.remove()}),null==n||n.forEach(t=>{let n=Math.min(10+2*t.count,25),e=c().divIcon({className:i().pulsingIcon,html:'<div class="'.concat(i().pulse,'" style="width: ').concat(n,"px; height: ").concat(n,'px;"></div>'),iconSize:[n,n]}),a=c().marker([t.lat,t.lon],{icon:e}).addTo(o.current),r='\n        <div class="'.concat(i().customPopup,'">\n          <span class="').concat(i().country,'">').concat(t.country,'</span>\n          <span class="').concat(i().visits,'">').concat(t.count," visit").concat(t.count>1?"s":"","</span>\n        </div>\n      ");a.bindPopup(r,{className:i().customPopupContainer})}),()=>{o.current&&(o.current.remove(),o.current=null)}),[n,e,s]),(0,r.useEffect)(()=>{let t=()=>{o.current&&o.current.setZoom(window.innerWidth<768?1:2)};return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),(0,a.jsx)("div",{id:"map",className:i().map})}},8413:()=>{},7957:t=>{t.exports={map:"ClientMap_map__GuUUv",pulsingIcon:"ClientMap_pulsingIcon__zTLVv",pulse:"ClientMap_pulse___QqEw",customPopupContainer:"ClientMap_customPopupContainer__OMTRF",customPopup:"ClientMap_customPopup__prYhL",country:"ClientMap_country__pZzDl",visits:"ClientMap_visits__qX6Cf"}}}]);